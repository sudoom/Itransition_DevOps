**Практические задания**
1. Основы AWS
     1. Создать выделенную сеть Amazon Virtual Private Cloud с тремя подсетями, как минимум в двух разных зонах (например, обычно обозначаются как us-west-1a, us-west-1c). Две подсети (расположенные в разных зонах) должны быть публичными. Третья подсеть – приватная, ограничить доступ на ACL.
        1. Создать Security Group (назовем ее web-sg):
       
                • Разрешить входящий SSH трафик только со своего IP (или доверенных IPs).
                • Разрешить входящий HTTP/HTTPS трафик со своего IP (или доверенных IPs).
                • Разрешить весь исходящий трафик во все 3 подсети.
                • Остальной трафик запретить.
     2. Сгенерировать собственный RSA ключ (Key Pairs) для использования в дальнейшем при создании инстансов (необходимо для подключения по SSH).
     3. EC2:
        1. Создать один t2.micro инстанс в созданной в п 6.1 VPC и одной из публичных подсетей. Использовать Security Group из п 6.1.1.
        2.  Создать второй t2.micro инстанс в созданной в п 6.1 VPC и второй публичной подсети. Использовать Security Group из п 6.1.1.
        3.  На оба инстанса установить Nginx и создать простую страницу-заглушку (index.html) на 80-ом порту.
     4. ELB:
        1. Создать один ELB с поддержкой созданных Availability Zones.
        2.  Разрешить HTTP трафик на ELB с любого IP адреса.
        3.  Добавить в ELB оба инстанса.
        4.  Настроить Health Check на протокол HTTP, порт 80, страница index.html с минимальными интервалами проверки.
        5. Обновить security group созданную в пункте 6.1.1, так чтобы доступ по http/https  был возможен только с ELB.
        6.  Принудительно остановить веб-сервер на одном из инстансов и проверить доступность сайта.
     5. RDS:
        1. Создать инстанс PostgreSQL в выделенной VPС и приватной подсети с типом хранилища как General Purpose и объёмом в 20 Гб. Использовать Security Group из п 6.1.2.
        2. Разрешить входящий трафик только от web-sg. Как результат должны продемонстрировать возможность подключения к RDS как минимум с двух иcходных точек (серверов)
     6. ElastiCache:
         1. Создать один инстанс ElastiCache (Redis) в выделенной VPC.
         2. Разрешить трафик только внутри выделенной VPC. Как результат: должны продемонстрировать возможность подключения к Redis как минимум с двух иcходных точек (серверов)
         3. Создать один инстанс ElastiCache (Memcached) в выделенной VPC.
         4. Разрешить трафик только от серверов созданных в пункте 5.3. Как результат: должны продемонстрировать возможность подключения к Memcached как минимум с двух иcходных точек (серверов)
     7. Создать CloudFront Distribution с параметрами по умолчанию.
        1. Сгенерировать 100 небольших файлов ( < 512 Kb) и заполнить ими созданный бакет в S3. К файлам сторонние лица не должны иметь доступ.
        2. Настроить политику хранения объектов в данном бакете S3 следующим образом:
                
                • по истечении 30 дней – отправлять объекты в Glacier;
                • после 6 месяцев хранения – полностью удалять с Glacier.
     8. *На одном из серверов созданных в пункте 6.3. подготовьте скрипт (с использование aws cli) для загрузки/выгрузки/удаления файлов в S3 бакете созданном в пункте 6.7.1 в соответствии с best practice и наибольшим уровнем безопасности окружения.
     9. *Заменить инстансы (ELB должно будет ссылаться на новые инстансы созданные через autoscaling group) созданные в пункте 6.3 на autoscalinng group, со следующими правилами:
        
            • Если CPU Utilization > 70%, то добавить инстанс
            • Если CPU Utilization < 15%, то удалить инстанс
            • Минимальное количество запущенных инстансов = 1
            • Максимальное количество запущенных инстансов = 4
            • Autoscaling group должна разворачивать инстанс вместе с установленным nginx и страницей заглушкой из пункта 6.3


2. Работа с контейнерами
    1.  Установите и настройте EB CLI
        1. Создайте приложение и окружение, используя Dockerrun.aws.json v2 создайте 2 контейнера:
        
                    Nginx
                    Rails (можно использовать приложение на другом языке программирования, который поддерживает EB, но следующие подпункты обязательны)
        2. Установите на rails порт 3000 и настройте nginx на фронт
        3. Создайте простое Rails приложение выводящее строку "Hello world"
        4. Проверьте используя URL: <имя_приложения>.<регион>.elasticbeanstalk.com работу beanstalk, вы должны увидеть содержимое index.html
        5. Используя созданные в 6.9.3 контейнеры, настройте контейнер balancer на балансировку нагрузки round-robin между nginx контейнером beanstalk и локальным контейнером web
    2.  *Создать аналогичную пункту 6.9.1 структуру средствами ECS
        1. Настроить на ELB балансировку между инстансами созданными в пункте 6.3 и сайтом в ECS созданным в пункте 6.10
    3.  **Настроить EKS кластер в полном соответствии с пунктом 6.10

